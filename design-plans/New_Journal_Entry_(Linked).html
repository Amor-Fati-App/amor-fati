<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amor Fati - Journal Entry</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,400&family=Inter:wght@300;400;500;600&family=Pinyon+Script&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        void: '#050505',
                        panel: '#0a0a0a',
                        surface: '#141414',
                        gold: '#C5A059',
                        silver: '#a1a1aa',
                        ghost: '#f4f4f5'
                    },
                    fontFamily: {
                        heading: ['"Cinzel"', 'serif'],
                        body: ['"Cormorant Garamond"', 'serif'],
                        ui: ['"Inter"', 'sans-serif'],
                        script: ['"Pinyon Script"', 'cursive'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.6s ease-out forwards',
                        'slide-up': 'slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #050505;
            color: #f4f4f5;
            height: 100vh;
            overflow: hidden;
        }

        /* --- EDITOR STYLING --- */
        [contenteditable]:empty:before {
            content: attr(placeholder);
            color: rgba(255, 255, 255, 0.2);
            pointer-events: none;
            display: block; /* For Firefox */
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 2px; }
        ::-webkit-scrollbar-thumb:hover { background: #C5A059; }

        /* Tag Selection States */
        .tag-checkbox:checked + label {
            background-color: rgba(197, 160, 89, 0.15);
            border-color: #C5A059;
            color: #C5A059;
        }

        /* Privacy Toggle Animation */
        .sc-toggle:checked ~ .sc-dot {
            transform: translateX(100%);
            background-color: #C5A059;
        }
        
        .editor-focus-dim {
            transition: opacity 0.5s ease;
        }
        .focused .editor-focus-dim {
            opacity: 0.3;
            pointer-events: none;
        }
        
        /* Glass Panels */
        .glass-context {
            background: linear-gradient(180deg, rgba(10,10,10,0.95) 0%, rgba(5,5,5,0.95) 100%);
            border-right: 1px solid rgba(255,255,255,0.05);
        }
    </style>
</head>
<body class="flex flex-col md:flex-row h-full selection:bg-gold selection:text-black">

    <!-- LEFT PANEL: CONTEXT (The Source) -->
    <!-- Displays the Reading outcomes to reference while writing -->
    <aside class="hidden md:flex flex-col w-[350px] lg:w-[400px] h-full glass-context overflow-y-auto z-10 editor-focus-dim shrink-0">
        
        <div class="p-8 pb-4">
            <h2 class="font-ui text-xs font-bold tracking-[0.2em] text-gold uppercase mb-6">Reference Material</h2>
            
            <!-- Original Question -->
            <div class="mb-8 p-4 bg-surface rounded border border-white/5">
                <span class="block text-xs font-ui text-gray-500 uppercase mb-2">The Query</span>
                <p class="font-body text-xl italic text-white leading-snug">"What truth am I hiding from myself?"</p>
            </div>

            <!-- The Spread Summary -->
            <div class="space-y-4">
                <span class="block text-xs font-ui text-gray-500 uppercase">The Spread</span>
                
                <!-- Compact Card Views -->
                <div class="flex items-center gap-4 group cursor-pointer hover:bg-white/5 p-2 rounded transition-colors">
                    <div class="w-12 h-16 rounded bg-gray-800 bg-cover bg-center border border-white/10" style="background-image: url('https://images.unsplash.com/photo-1572925077991-61acf7d70608?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dGhlJTIwbW9vbnxlbnwwfHwwfHx8MA%3D%3D')"></div>
                    <div>
                        <h4 class="font-heading text-sm text-gray-300">I. The Moon</h4>
                        <p class="font-ui text-[10px] text-gray-500 uppercase tracking-wider">Illusion</p>
                    </div>
                </div>

                <div class="flex items-center gap-4 group cursor-pointer hover:bg-white/5 p-2 rounded transition-colors">
                    <div class="w-12 h-16 rounded bg-gray-800 bg-cover bg-center border border-gold/50 shadow-[0_0_10px_rgba(197,160,89,0.2)]" style="background-image: url('https://images.unsplash.com/photo-1753797782494-d7db19adc674?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')"></div>
                    <div>
                        <h4 class="font-heading text-sm text-white">II. Ace of Swords</h4>
                        <p class="font-ui text-[10px] text-gold uppercase tracking-wider">Breakthrough</p>
                    </div>
                </div>

                <div class="flex items-center gap-4 group cursor-pointer hover:bg-white/5 p-2 rounded transition-colors">
                    <div class="w-12 h-16 rounded bg-gray-800 bg-cover bg-center border border-white/10" style="background-image: url('https://images.unsplash.com/photo-1728241189721-6a46979906fb?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')"></div>
                    <div>
                        <h4 class="font-heading text-sm text-gray-300">III. Six of Cups</h4>
                        <p class="font-ui text-[10px] text-gray-500 uppercase tracking-wider">Nostalgia</p>
                    </div>
                </div>
            </div>

            <!-- AI Synthesis Excerpt -->
            <div class="mt-8 relative">
                <div class="absolute left-0 top-0 bottom-0 w-px bg-gradient-to-b from-gold/50 to-transparent"></div>
                <div class="pl-4">
                    <span class="block text-xs font-ui text-gray-500 uppercase mb-2">Oracle Note</span>
                    <p class="font-body text-md text-gray-400 leading-relaxed">
                        "The confusion of the past (Moon) is being pierced by a necessary truth (Ace). This sharpness will not wound you, but heal you, leading to a return to self (Cups)."
                    </p>
                    <button class="mt-3 text-gold text-xs font-ui uppercase tracking-wide hover:underline decoration-gold/50 underline-offset-4">Copy to Journal</button>
                </div>
            </div>
        </div>
        
    </aside>


    <!-- RIGHT PANEL: THE EDITOR (The Action) -->
    <main id="editor-main" class="flex-1 h-full flex flex-col relative bg-void">
        
        <!-- Toolbar / Header -->
        <header class="h-16 border-b border-white/5 flex items-center justify-between px-6 bg-void/80 backdrop-blur-sm z-20">
            <div class="flex items-center gap-4">
                <button class="md:hidden text-gray-500 hover:text-white"><i class="ph ph-cards text-xl"></i></button> <!-- Mobile Context Toggle -->
                <span class="text-xs font-ui text-gray-600 uppercase tracking-widest editor-focus-dim">New Entry</span>
                <span class="h-4 w-px bg-white/5 editor-focus-dim"></span>
                <span id="save-status" class="text-xs font-ui text-gray-600 italic editor-focus-dim transition-colors">Unsaved changes...</span>
            </div>

            <div class="flex items-center gap-4">
                <!-- Privacy Toggle -->
                <div class="flex items-center gap-3 editor-focus-dim cursor-pointer group" onclick="document.getElementById('privacy-toggle').click()">
                    <span id="privacy-label" class="text-xs font-ui text-gray-500 uppercase tracking-wider group-hover:text-white transition-colors">Private</span>
                    <div class="relative w-8 h-4 bg-white/10 rounded-full p-0.5 transition-colors">
                        <input type="checkbox" id="privacy-toggle" class="sc-toggle hidden">
                        <div class="sc-dot w-3 h-3 bg-gray-500 rounded-full shadow-sm transition-transform duration-300"></div>
                    </div>
                </div>
                
                <button class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/5 text-gray-400 hover:text-white transition-colors editor-focus-dim">
                    <i class="ph ph-dots-three-vertical text-xl"></i>
                </button>
                
                <button class="px-6 py-2 bg-white text-black font-ui text-xs font-bold uppercase tracking-widest rounded-sm hover:bg-gold transition-colors shadow-[0_0_15px_rgba(255,255,255,0.1)]">
                    Save Entry
                </button>
            </div>
        </header>

        <!-- Writing Surface -->
        <div class="flex-1 overflow-y-auto relative w-full max-w-3xl mx-auto">
            <div class="px-8 py-12 md:py-20 animate-slide-up">
                
                <!-- Date -->
                <div class="mb-4">
                    <input type="text" value="Thursday, October 24, 2023" class="w-full bg-transparent font-ui text-xs uppercase tracking-[0.2em] text-gray-500 placeholder-gray-700 focus:outline-none focus:text-gold transition-colors">
                </div>

                <!-- Title Input -->
                <input type="text" placeholder="Title your reflection..." class="w-full bg-transparent font-heading text-4xl md:text-5xl text-white placeholder-white/20 mb-8 focus:outline-none focus:placeholder-white/10">

                <!-- Rich Text Toolbar (Floating/Sticky) -->
                <div class="sticky top-0 z-10 flex items-center gap-2 mb-6 py-2 bg-void/95 border-b border-white/5 w-fit rounded-r pr-4 backdrop-filter backdrop-blur-lg">
                    <button class="p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded transition-colors"><i class="ph-bold ph-text-b"></i></button>
                    <button class="p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded transition-colors"><i class="ph-bold ph-text-italic"></i></button>
                    <button class="p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded transition-colors"><i class="ph-bold ph-list-dashes"></i></button>
                    <span class="w-px h-4 bg-white/10 mx-1"></span>
                    <button class="p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded transition-colors" title="Add Image"><i class="ph-bold ph-image"></i></button>
                    <button class="p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded transition-colors" title="Add Audio Note"><i class="ph-bold ph-microphone"></i></button>
                </div>

                <!-- Main Editor Area -->
                <div id="journal-editor" contenteditable="true" 
                     class="min-h-[40vh] bg-transparent font-body text-xl md:text-2xl text-gray-200 leading-relaxed outline-none focus:text-white empty:before:content-[attr(placeholder)]"
                     placeholder="The cards have spoken. How does the truth resonate? Start writing..."
                     onfocus="focusMode(true)" onblur="focusMode(false)">
                </div>
                
                <!-- Tagging & Meta System -->
                <div class="mt-12 pt-8 border-t border-white/5 animate-fade-in" style="animation-delay: 0.2s;">
                    <div class="flex flex-col gap-6">
                        
                        <!-- Mood Tags -->
                        <div>
                            <span class="block text-xs font-ui text-gray-600 uppercase tracking-widest mb-3">Emotional Resonance</span>
                            <div class="flex flex-wrap gap-2">
                                <!-- Tag 1 -->
                                <div class="relative">
                                    <input type="checkbox" id="tag-clarity" class="tag-checkbox hidden">
                                    <label for="tag-clarity" class="cursor-pointer px-4 py-1.5 rounded-full border border-white/10 bg-white/5 text-xs font-ui text-gray-400 hover:border-white/30 hover:text-white transition-all select-none">Clarity</label>
                                </div>
                                <!-- Tag 2 -->
                                <div class="relative">
                                    <input type="checkbox" id="tag-anxiety" class="tag-checkbox hidden">
                                    <label for="tag-anxiety" class="cursor-pointer px-4 py-1.5 rounded-full border border-white/10 bg-white/5 text-xs font-ui text-gray-400 hover:border-white/30 hover:text-white transition-all select-none">Anxiety</label>
                                </div>
                                <!-- Tag 3 -->
                                <div class="relative">
                                    <input type="checkbox" id="tag-hope" class="tag-checkbox hidden">
                                    <label for="tag-hope" class="cursor-pointer px-4 py-1.5 rounded-full border border-white/10 bg-white/5 text-xs font-ui text-gray-400 hover:border-white/30 hover:text-white transition-all select-none">Hope</label>
                                </div>
                                <!-- Add New -->
                                <button class="px-3 py-1.5 rounded-full border border-dashed border-white/20 text-xs font-ui text-gray-600 hover:text-gold hover:border-gold transition-colors">
                                    + Add Mood
                                </button>
                            </div>
                        </div>

                        <!-- Attachments Preview -->
                        <div>
                            <span class="block text-xs font-ui text-gray-600 uppercase tracking-widest mb-3">Attachments</span>
                            <div class="flex items-center gap-4">
                                <!-- Placeholder for an attachment -->
                                <div class="w-32 h-20 border border-dashed border-white/10 rounded flex flex-col items-center justify-center text-gray-600 hover:text-white hover:border-white/30 hover:bg-white/5 transition-all cursor-pointer">
                                    <i class="ph ph-plus text-lg mb-1"></i>
                                    <span class="text-[10px] uppercase">Upload</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                
                <!-- Bottom Spacer for visuals -->
                <div class="h-20"></div>
            </div>
        </div>

    </main>

    <script>
        // Interaction Logic
        const privacyToggle = document.getElementById('privacy-toggle');
        const privacyLabel = document.getElementById('privacy-label');
        const saveStatus = document.getElementById('save-status');
        const editorMain = document.getElementById('editor-main');
        const editor = document.getElementById('journal-editor');

        // Toggle Privacy Label
        privacyToggle.addEventListener('change', (e) => {
            if(e.target.checked) {
                privacyLabel.innerText = "Public";
                privacyLabel.classList.add('text-gold');
            } else {
                privacyLabel.innerText = "Private";
                privacyLabel.classList.remove('text-gold');
            }
        });

        // Auto-save Simulation
        editor.addEventListener('input', () => {
            saveStatus.innerText = "Saving...";
            saveStatus.classList.add('text-gold');
            
            clearTimeout(window.saveTimer);
            window.saveTimer = setTimeout(() => {
                saveStatus.innerText = "Saved just now";
                saveStatus.classList.remove('text-gold');
            }, 1500);
        });

        // Focus Mode: Dim the surrounding UI when writing
        function focusMode(isActive) {
            if(isActive) {
                editorMain.classList.add('focused');
            } else {
                editorMain.classList.remove('focused');
            }
        }
    </script>
</body>
</html>